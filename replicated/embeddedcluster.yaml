apiVersion: embeddedcluster.replicated.com/v1beta1
kind: Config
metadata:
  name: embedded-cluster-config
spec:
  version: 2.7.1+k8s-1.31
  domains:
    # Your proxy registry custom domain
    proxyRegistryDomain: registry.rasa.com
    # Your app service custom domain
    replicatedAppDomain: replicated.rasa.com
  unsupportedOverrides:
    k0s: |
      config:
        spec:
          api:
            extraArgs:
              service-node-port-range: 80-32767
  extensions:
    helm:
      repositories:
      - name: ingress-nginx
        url: https://kubernetes.github.io/ingress-nginx
      - name: cloudnative-pg
        url: https://cloudnative-pg.github.io/charts
      - name: strimzi
        url: https://strimzi.io/charts
      charts:
      - name: ingress-nginx
        chartname: ingress-nginx/ingress-nginx
        namespace: ingress-nginx
        version: "4.12.1"
        values: |
          controller:
            service:
              type: NodePort
              nodePorts:
                http: "80"
                https: "443"
            image:
              digest: ""
              digestChroot: ""
            admissionWebhooks:
              patch:
                image:
                  digest: ""
      - name: cloudnative-pg
        chartname: cloudnative-pg/cloudnative-pg
        namespace: cnpg-system
        version: "0.26.0"
        values: |
          image:
            tag: "1.27.0"
      - name: strimzi
        chartname: strimzi/strimzi-kafka-operator
        namespace: strimzi-system
        version: "0.47.0"
        values: |
          watchAnyNamespace: true
